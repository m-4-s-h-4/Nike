<app-navbar></app-navbar>
<link rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,700,0,0" />
<div class="container">
  <div class="product-catalog">
    <div class="product-grid">

      <div *ngFor="let product of (products$ | async | filter:searchKey:'title')" class="product-card">

        <img [src]="product.image">
        <button (click)="addItemsToCart(product)">Add to cart</button>
        <!-- <h2 [class.matched]="searchKey.length > 2 && product.title.toLowerCase().includes(searchKey.toLowerCase())">
          {{ product.title }}
        </h2> -->

        <h2>{{ product.title }}</h2>
        <h3>Price: {{ product.price | currency}}</h3>
        <p class="description" [title]="product.description">{{ product.description }}</p>
      </div>

    </div>
  </div>


  <div class="products-cart">
    <table>
      <tbody>
        <tr *ngFor="let item of cartItems$ | async; let i = index">
          <td><img [src]="item.image"></td>
          <td>{{ item.title }}</td>
          <td>{{ item.price | currency }}</td>
          <td><button (click)="removeItem(i)">Remove</button></td>
        </tr>
      </tbody>
    </table>
    <h2>Total: {{ total$ | async | currency }}</h2>
  </div>
</div>

<div class="pagination">
  <button (click)="prevPage()">
    <span class="material-symbols-outlined">
      arrow_back_ios
    </span>
  </button>
  <button (click)="nextPage()"><span class="material-symbols-outlined">
      arrow_forward_ios
    </span></button>
</div>